{"remainingRequest":"D:\\demo\\front-end\\node_modules\\babel-loader\\lib\\index.js!D:\\demo\\front-end\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\demo\\front-end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\demo\\front-end\\src\\components\\commons\\filter-table.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\demo\\front-end\\src\\components\\commons\\filter-table.vue","mtime":1556937921672},{"path":"D:\\demo\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1556937905901},{"path":"D:\\demo\\front-end\\node_modules\\babel-loader\\lib\\index.js","mtime":1556937905542},{"path":"D:\\demo\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1556937905901},{"path":"D:\\demo\\front-end\\node_modules\\vue-loader\\lib\\index.js","mtime":1556937918662}],"contextDependencies":[],"result":["import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.array.sort\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  props: {\n    headers: {\n      type: Array,\n      default: function _default() {\n        return [];\n      },\n      required: true\n    },\n    data: {\n      type: Array,\n      default: function _default() {\n        return [];\n      },\n      required: true\n    },\n    collums: {\n      type: Object,\n      default: function _default() {},\n      required: false\n    },\n    sort: {\n      type: String,\n      default: '',\n      required: false\n    }\n  },\n  data: function data() {\n    return {\n      date_menu: {},\n      search_val: {},\n      search_conditions: [],\n      pagination: {\n        descending: false,\n        sortBy: ''\n      },\n      data_source: []\n    };\n  },\n  watch: {\n    sort: function sort() {\n      this.pagination.sortBy = this.sort;\n    },\n    data: function data() {\n      this.data_source = this.data;\n    }\n  },\n  created: function created() {\n    var index;\n\n    for (index = 0; index < this.headers.length; index++) {\n      var element = this.headers[index];\n\n      if (element.type === 'string' || element.type === 'date' || element.type === 'number') {\n        this.search_val[element.value] = {\n          value: '',\n          type: element.type\n        };\n      } else if (element.type === 'bool') {\n        this.search_val[element.value] = {\n          value: false,\n          type: element.type\n        };\n      }\n    }\n  },\n  mounted: function mounted() {},\n  methods: {\n    validData: function validData(type, srcVal, destVal) {\n      switch (type) {\n        case 'bool':\n          return srcVal == destVal;\n\n        case 'string':\n          return srcVal.toLowerCase().includes(destVal.toLowerCase());\n\n        case 'date':\n          return new Date(srcVal).toLocaleDateString() == new Date(destVal).toLocaleDateString();\n\n        case 'number':\n          return srcVal == destVal;\n      }\n\n      return false;\n    },\n    isEmpty: function isEmpty(search_val) {\n      switch (search_val.type) {\n        case 'bool':\n          return true;\n\n        case 'string':\n          return search_val.value === '';\n\n        case 'date':\n          return search_val.value === '';\n\n        case 'number':\n          return search_val.value == '';\n      }\n\n      return false;\n    },\n    searchByCol: function searchByCol(col) {\n      if (this.data != undefined && this.data.length > 0) {\n        var index = this.search_conditions.indexOf(col);\n\n        if (this.isEmpty(this.search_val[col])) {\n          if (index > -1) {\n            this.search_conditions.splice(index, 1);\n          }\n        } else if (index == -1) {\n          this.search_conditions.push(col);\n        }\n\n        var result = [];\n\n        if (this.search_conditions.length == 0) {\n          this.data_source = this.data;\n          return;\n        }\n\n        for (var i = 0; i < this.data.length; i++) {\n          var flag = true;\n          var rowData = this.data[i];\n\n          for (var j = 0; j < this.search_conditions.length; j++) {\n            var col_name = this.search_conditions[j];\n\n            if (!this.validData(this.search_val[col_name].type, rowData[col_name], this.search_val[col_name].value)) {\n              flag = false;\n            }\n          }\n\n          if (flag) {\n            result.push(this.data[i]);\n          }\n        }\n\n        this.data_source = result;\n      }\n    }\n  }\n};",{"version":3,"sources":["filter-table.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"abc\">\r\n    <v-data-table :headers=\"headers\" :items=\"data_source\">\r\n      <template slot=\"headers\" slot-scope=\"props\">\r\n        <tr class=\"text-uppercase\">\r\n          <th\r\n            v-for=\"header in props.headers\"\r\n            :key=\"header.text\"\r\n            :class=\"[\r\n              'column sortable',\r\n              pagination.descending ? 'desc' : 'asc',\r\n              header.value === pagination.sortBy ? 'active' : ''\r\n            ]\"\r\n          >\r\n            {{ header.text }}\r\n            <v-icon small>arrow_upward</v-icon>\r\n          </th>\r\n        </tr>\r\n        <tr class=\"search_header\">\r\n          <th v-for=\"header in props.headers\" :key=\"header.value\">\r\n            <v-text-field\r\n              v-if=\"header.type === 'string' || header.type === 'number'\"\r\n              v-model=\"search_val[header.value].value\"\r\n              @input=\"searchByCol(header.value)\"\r\n            />\r\n            <v-checkbox\r\n              v-else-if=\"header.type === 'bool'\"\r\n              v-model=\"search_val[header.value].value\"\r\n              @change=\"searchByCol(header.value)\"\r\n            />\r\n            <v-menu\r\n              v-else-if=\"header.type === 'date'\"\r\n              ref=\"${date_menu[header.value]}\"\r\n              v-model=\"date_menu[header.value]\"\r\n              :close-on-content-click=\"false\"\r\n              :nudge-right=\"40\"\r\n              lazy\r\n              transition=\"scale-transition\"\r\n              offset-y\r\n              full-width\r\n              min-width=\"290px\"\r\n            >\r\n              <v-text-field\r\n                slot=\"activator\"\r\n                v-model=\"search_val[header.value].value\"\r\n                readonly\r\n              />\r\n              <v-date-picker\r\n                v-model=\"search_val[header.value].value\"\r\n                no-title\r\n                color=\"#00695c\"\r\n                @input=\"\r\n                  date_menu[header.value] = false;\r\n                  searchByCol(header.value);\r\n                \"\r\n              >\r\n                <v-spacer />\r\n                <v-btn\r\n                  flat\r\n                  color=\"#00695c\"\r\n                  @click=\"\r\n                    date_menu[header.value] = false;\r\n                    search_val[header.value].value = '';\r\n                    searchByCol(header.value);\r\n                  \"\r\n                >\r\n                  Clear\r\n                </v-btn>\r\n              </v-date-picker>\r\n            </v-menu>\r\n          </th>\r\n        </tr>\r\n      </template>\r\n      <template slot=\"headerCell\" slot-scope=\"props\">\r\n        <v-tooltip bottom>\r\n          <span slot=\"activator\"> {{ props.header.text }} </span>\r\n          <span> {{ props.header.text }} </span>\r\n        </v-tooltip>\r\n      </template>\r\n      <template slot=\"items\" slot-scope=\"props\">\r\n        <slot :item=\"props.item\" name=\"tbody\" />\r\n      </template>\r\n    </v-data-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    headers: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n      required: true\r\n    },\r\n\r\n    data: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n      required: true\r\n    },\r\n\r\n    collums: {\r\n      type: Object,\r\n      default() {},\r\n      required: false\r\n    },\r\n\r\n    sort: {\r\n      type: String,\r\n      default: '',\r\n      required: false\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      date_menu: {},\r\n\r\n      search_val: {},\r\n\r\n      search_conditions: [],\r\n\r\n      pagination: {\r\n        descending: false,\r\n        sortBy: ''\r\n      },\r\n\r\n      data_source: []\r\n    };\r\n  },\r\n\r\n  watch: {\r\n    sort() {\r\n      this.pagination.sortBy = this.sort;\r\n    },\r\n\r\n    data() {\r\n      this.data_source = this.data;\r\n    }\r\n  },\r\n\r\n  created() {\r\n    var index;\r\n    for (index = 0; index < this.headers.length; index++) {\r\n      var element = this.headers[index];\r\n      if (\r\n        element.type === 'string' ||\r\n        element.type === 'date' ||\r\n        element.type === 'number'\r\n      ) {\r\n        this.search_val[element.value] = {\r\n          value: '',\r\n          type: element.type\r\n        };\r\n      } else if (element.type === 'bool') {\r\n        this.search_val[element.value] = {\r\n          value: false,\r\n          type: element.type\r\n        };\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted() {},\r\n\r\n  methods: {\r\n    validData(type, srcVal, destVal) {\r\n      switch (type) {\r\n        case 'bool':\r\n          return srcVal == destVal;\r\n        case 'string':\r\n          return srcVal.toLowerCase().includes(destVal.toLowerCase());\r\n        case 'date':\r\n          return (\r\n            new Date(srcVal).toLocaleDateString() ==\r\n            new Date(destVal).toLocaleDateString()\r\n          );\r\n        case 'number':\r\n          return srcVal == destVal;\r\n      }\r\n      return false;\r\n    },\r\n\r\n    isEmpty(search_val) {\r\n      switch (search_val.type) {\r\n        case 'bool':\r\n          return true;\r\n        case 'string':\r\n          return search_val.value === '';\r\n        case 'date':\r\n          return search_val.value === '';\r\n        case 'number':\r\n          return search_val.value == '';\r\n      }\r\n      return false;\r\n    },\r\n\r\n    searchByCol(col) {\r\n      if (this.data != undefined && this.data.length > 0) {\r\n        var index = this.search_conditions.indexOf(col);\r\n        if (this.isEmpty(this.search_val[col])) {\r\n          if (index > -1) {\r\n            this.search_conditions.splice(index, 1);\r\n          }\r\n        } else if (index == -1) {\r\n          this.search_conditions.push(col);\r\n        }\r\n        var result = [];\r\n\r\n        if (this.search_conditions.length == 0) {\r\n          this.data_source = this.data;\r\n          return;\r\n        }\r\n\r\n        for (var i = 0; i < this.data.length; i++) {\r\n          var flag = true;\r\n          var rowData = this.data[i];\r\n          for (var j = 0; j < this.search_conditions.length; j++) {\r\n            var col_name = this.search_conditions[j];\r\n            if (\r\n              !this.validData(\r\n                this.search_val[col_name].type,\r\n                rowData[col_name],\r\n                this.search_val[col_name].value\r\n              )\r\n            ) {\r\n              flag = false;\r\n            }\r\n          }\r\n          if (flag) {\r\n            result.push(this.data[i]);\r\n          }\r\n        }\r\n        this.data_source = result;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.search_header .v-text-field {\r\n  font-weight: 400;\r\n  font-size: 13px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/commons"}]}