{"remainingRequest":"D:\\Project_Mirea\\risk-box\\front-end\\node_modules\\babel-loader\\lib\\index.js!D:\\Project_Mirea\\risk-box\\front-end\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Project_Mirea\\risk-box\\front-end\\src\\locale\\index.js","dependencies":[{"path":"D:\\Project_Mirea\\risk-box\\front-end\\src\\locale\\index.js","mtime":1556591576363},{"path":"D:\\Project_Mirea\\risk-box\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1556556018404},{"path":"D:\\Project_Mirea\\risk-box\\front-end\\node_modules\\babel-loader\\lib\\index.js","mtime":1556555986820},{"path":"D:\\Project_Mirea\\risk-box\\front-end\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1556556014088}],"contextDependencies":[],"result":["import _classCallCheck from \"D:\\\\Project_Mirea\\\\risk-box\\\\front-end\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport _defineProperty from \"D:\\\\Project_Mirea\\\\risk-box\\\\front-end\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es7.array.includes\";\n\nvar _class, _temp;\n\nimport Vue from 'vue';\nimport VueI18n from 'vue-i18n';\nimport store from 'store';\nimport en from \"./messages/en\";\nimport vi from \"./messages/vi\";\nimport { Checker } from 'utilities';\nimport { LOCAL_STORAGE_LANG } from 'core/constant';\nVue.use(VueI18n);\nexport var LANGUAGES = ['en', 'vi'];\nexport var DEFAULT_LANGUAGE = 'en';\nvar user = store.getters['authentication/authUser'];\nvar user_language = DEFAULT_LANGUAGE;\n\nif (Checker.isObject(user) && user.hasOwnProperty('language') && LANGUAGES.includes(user.language)) {\n  user_language = user.language;\n} else {\n  var localLanguage = localStorage.getItem(LOCAL_STORAGE_LANG);\n\n  if (Checker.hasText(localLanguage) && LANGUAGES.includes(user.language)) {\n    user_language = localLanguage;\n  }\n}\n\nlocalStorage.setItem(LOCAL_STORAGE_LANG, user_language);\nvar i18n = new VueI18n({\n  locale: user_language,\n  fallbackLocale: DEFAULT_LANGUAGE,\n  messages: {\n    en: en,\n    vi: vi\n  }\n});\nexport default i18n;\nexport var setI18nLanguage = function setI18nLanguage(lang) {\n  if (!LANGUAGES.includes(lang)) {\n    return false;\n  }\n\n  i18n.locale = lang;\n  localStorage.setItem(LOCAL_STORAGE_LANG, lang);\n  document.querySelector('html').setAttribute('lang', lang);\n  return true;\n};\nexport var lang = function lang() {\n  return i18n.locale;\n};\nVue.prototype.$locale = {\n  lang: lang,\n  setI18nLanguage: setI18nLanguage,\n  DEFAULT_LANGUAGE: DEFAULT_LANGUAGE,\n  LANGUAGES: LANGUAGES\n};\n\nvar combineMsg = function combineMsg(msg_code, array_attrs) {\n  var attr_vals = [];\n\n  if (Checker.isArray(array_attrs)) {\n    for (var i in array_attrs) {\n      if (Checker.hasText(array_attrs[i])) {\n        attr_vals.push(i18n.t(array_attrs[i]));\n      } else if (Checker.isNumber(array_attrs[i])) {\n        attr_vals.push(array_attrs[i]);\n      }\n    }\n\n    return i18n.t(msg_code, attr_vals);\n  }\n\n  return '';\n};\n\nVue.prototype.$i18n_tr = (_temp = _class = function _class() {\n  _classCallCheck(this, _class);\n}, _defineProperty(_class, \"require\", function (array_attrs) {\n  return combineMsg('global.validation.require', array_attrs);\n}), _defineProperty(_class, \"min_length\", function (array_attrs) {\n  return combineMsg('global.validation.min_length', array_attrs);\n}), _defineProperty(_class, \"max_length\", function (array_attrs) {\n  return combineMsg('global.validation.max_length', array_attrs);\n}), _temp);",{"version":3,"sources":["D:\\Project_Mirea\\risk-box\\front-end\\src\\locale\\index.js"],"names":["Vue","VueI18n","store","en","vi","Checker","LOCAL_STORAGE_LANG","use","LANGUAGES","DEFAULT_LANGUAGE","user","getters","user_language","isObject","hasOwnProperty","includes","language","localLanguage","localStorage","getItem","hasText","setItem","i18n","locale","fallbackLocale","messages","setI18nLanguage","lang","document","querySelector","setAttribute","prototype","$locale","combineMsg","msg_code","array_attrs","attr_vals","isArray","i","push","t","isNumber","$i18n_tr"],"mappings":"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","sourcesContent":["import Vue from 'vue';\r\nimport VueI18n from 'vue-i18n';\r\nimport store from 'store';\r\n\r\nimport en from './messages/en';\r\nimport vi from './messages/vi';\r\n\r\nimport { Checker } from 'utilities';\r\nimport { LOCAL_STORAGE_LANG } from 'core/constant';\r\n\r\nVue.use(VueI18n);\r\n\r\nexport const LANGUAGES = ['en', 'vi'];\r\nexport const DEFAULT_LANGUAGE = 'en';\r\n\r\nlet user = store.getters['authentication/authUser'];\r\nlet user_language = DEFAULT_LANGUAGE;\r\nif (\r\n  Checker.isObject(user) &&\r\n  user.hasOwnProperty('language') &&\r\n  LANGUAGES.includes(user.language)\r\n) {\r\n  user_language = user.language;\r\n} else {\r\n  let localLanguage = localStorage.getItem(LOCAL_STORAGE_LANG);\r\n  if (Checker.hasText(localLanguage) && LANGUAGES.includes(user.language)) {\r\n    user_language = localLanguage;\r\n  }\r\n}\r\nlocalStorage.setItem(LOCAL_STORAGE_LANG, user_language);\r\n\r\nconst i18n = new VueI18n({\r\n  locale: user_language,\r\n  fallbackLocale: DEFAULT_LANGUAGE,\r\n  messages: {\r\n    en,\r\n    vi\r\n  }\r\n});\r\n\r\nexport default i18n;\r\n\r\nexport const setI18nLanguage = lang => {\r\n  if (!LANGUAGES.includes(lang)) {\r\n    return false;\r\n  }\r\n\r\n  i18n.locale = lang;\r\n  localStorage.setItem(LOCAL_STORAGE_LANG, lang);\r\n  document.querySelector('html').setAttribute('lang', lang);\r\n\r\n  return true;\r\n};\r\n\r\nexport const lang = () => {\r\n  return i18n.locale;\r\n};\r\n\r\nVue.prototype.$locale = {\r\n  lang,\r\n  setI18nLanguage,\r\n  DEFAULT_LANGUAGE,\r\n  LANGUAGES\r\n};\r\n\r\nconst combineMsg = (msg_code, array_attrs) => {\r\n  let attr_vals = [];\r\n  if (Checker.isArray(array_attrs)) {\r\n    for (let i in array_attrs) {\r\n      if (Checker.hasText(array_attrs[i])) {\r\n        attr_vals.push(i18n.t(array_attrs[i]));\r\n      } else if (Checker.isNumber(array_attrs[i])) {\r\n        attr_vals.push(array_attrs[i]);\r\n      }\r\n    }\r\n    return i18n.t(msg_code, attr_vals);\r\n  }\r\n  return '';\r\n};\r\n\r\nVue.prototype.$i18n_tr = class {\r\n  static require = array_attrs => {\r\n    return combineMsg('global.validation.require', array_attrs);\r\n  };\r\n\r\n  static min_length = array_attrs => {\r\n    return combineMsg('global.validation.min_length', array_attrs);\r\n  };\r\n\r\n  static max_length = array_attrs => {\r\n    return combineMsg('global.validation.max_length', array_attrs);\r\n  };\r\n};\r\n"]}]}